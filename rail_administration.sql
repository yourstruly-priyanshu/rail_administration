-- 1. LOGIN
CREATE TABLE LOGIN (
    ID INT PRIMARY KEY,
    Password VARCHAR(100)
);

-- 2. CUSTOMER
CREATE TABLE CUSTOMER (
    CUST_ID INT PRIMARY KEY,
    CUST_NAME VARCHAR(100),
    GENDER CHAR(1),
    CUST_EMAIL VARCHAR(100),
    CUST_MOBILE CHAR(10),
    ADDRESS VARCHAR(255),
    AGE INT,
    ID INT,
    FOREIGN KEY (ID) REFERENCES LOGIN(ID)
);

-- 3. RAILWAY_STAFF
CREATE TABLE RAILWAY_STAFF (
    STAFF_ID INT PRIMARY KEY,
    NAME VARCHAR(100),
    DESIGNATION VARCHAR(100),
    MOBILE_NO CHAR(10),
    ID INT,
    FOREIGN KEY (ID) REFERENCES LOGIN(ID)
);

-- 4. RAILWAY_STATION
CREATE TABLE RAILWAY_STATION (
    STATION_ID INT PRIMARY KEY,
    LOCATION VARCHAR(100),
    CUST_ID INT,
    FOREIGN KEY (CUST_ID) REFERENCES CUSTOMER(CUST_ID)
);

-- 5. STATUS
CREATE TABLE STATUS (
    WAITING_LIST INT PRIMARY KEY,
    CONFIRMED_PENDING BIT,
    PAID_UNPAID BIT,
    STAFF_ID INT,
    FOREIGN KEY (STAFF_ID) REFERENCES RAILWAY_STAFF(STAFF_ID)
);

-- 6. ROUTE
CREATE TABLE ROUTE (
    ROUTE_ID INT PRIMARY KEY,
    ARRIVAL VARCHAR(100),
    DEPARTURE VARCHAR(100),
    DISTANCE INT,
    STATION_ID INT,
    FOREIGN KEY (STATION_ID) REFERENCES RAILWAY_STATION(STATION_ID)
);

-- 7. COACHES
CREATE TABLE COACHES (
    COACH_NO INT PRIMARY KEY,
    TYPE_CLASS VARCHAR(50),
    TICKET_ID INT,
    TRAIN_ID INT,
    FOREIGN KEY (TRAIN_ID) REFERENCES TRAIN(TRAIN_ID)
);

-- 8. TRAIN
CREATE TABLE TRAIN (
    TRAIN_ID INT PRIMARY KEY,
    NAME VARCHAR(80),
    ROUTE_ID INT,
    CUST_ID INT,
    FOREIGN KEY (ROUTE_ID) REFERENCES ROUTE(ROUTE_ID),
    FOREIGN KEY (CUST_ID) REFERENCES CUSTOMER(CUST_ID)
);

-- 9. TATKAL
CREATE TABLE TATKAL (
    TATKAL_ID INT PRIMARY KEY,
    CHARGE INT,
    BOOKING_DATE DATE,
    TICKET_ID INT,
    FOREIGN KEY (TICKET_ID) REFERENCES TICKET(TICKET_ID)
);

-- 10. COMPLAINT & REFUND
CREATE TABLE COMPLAINT_REFUND (
    NUMBER INT PRIMARY KEY,
    REFUND_STATUS VARCHAR(100),
    TRANSACTION_TYPE CHAR(50),
    AMOUNT VARCHAR(20),
    STAFF_ID INT,
    CUST_ID INT,
    FOREIGN KEY (STAFF_ID) REFERENCES RAILWAY_STAFF(STAFF_ID),
    FOREIGN KEY (CUST_ID) REFERENCES CUSTOMER(CUST_ID)
);

-- 11. MAINTENANCE RECORD
CREATE TABLE MAINTENANCE_RECORD (
    DATE DATE,
    NO_OF_TIMES INT,
    TRAIN_ID INT,
    STAFF_ID INT,
    FOREIGN KEY (TRAIN_ID) REFERENCES TRAIN(TRAIN_ID),
    FOREIGN KEY (STAFF_ID) REFERENCES RAILWAY_STAFF(STAFF_ID)
);

-- 12. TICKET
CREATE TABLE TICKET (
    TICKET_ID INT PRIMARY KEY,
    STATUS VARCHAR(100),
    FARE VARCHAR(10),
    NO_OF_TICKETS INT,
    CUST_ID INT,
    TRAIN_ID INT,
    COACH_ID INT,
    FOREIGN KEY (CUST_ID) REFERENCES CUSTOMER(CUST_ID),
    FOREIGN KEY (TRAIN_ID) REFERENCES TRAIN(TRAIN_ID),
    FOREIGN KEY (COACH_ID) REFERENCES COACHES(COACH_NO)
);

-- 13. SCHEDULE
CREATE TABLE SCHEDULE (
    EARLY_DELAY BIT,
    STATION_ID INT,
    ROUTE_ID INT,
    TRAIN_ID INT,
    FOREIGN KEY (STATION_ID) REFERENCES RAILWAY_STATION(STATION_ID),
    FOREIGN KEY (ROUTE_ID) REFERENCES ROUTE(ROUTE_ID),
    FOREIGN KEY (TRAIN_ID) REFERENCES TRAIN(TRAIN_ID)
);

-- 1. LOGIN
INSERT INTO LOGIN (ID, Password) VALUES
(1, 'john123'),
(2, 'jane456'),
(3, 'staff1pass'),
(4, 'staff2pass'),
(5, 'user5pass');

-- 2. CUSTOMER
INSERT INTO CUSTOMER (CUST_ID, CUST_NAME, GENDER, CUST_EMAIL, CUST_MOBILE, ADDRESS, AGE, ID) VALUES
(1, 'John Doe', 'M', 'john@example.com', '1234567890', '123 Main St, City A', 28, 1),
(2, 'Jane Doe', 'F', 'jane@example.com', '9876543210', '456 Oak St, City B', 35, 2),
(3, 'Alice Smith', 'F', 'alice@example.com', '5556667777', '789 Maple St, City C', 22, 3),
(4, 'Bob Johnson', 'M', 'bob@example.com', '9998887777', '101 Pine St, City D', 45, 4),
(5, 'Eva Brown', 'F', 'eva@example.com', '3332221111', '246 Elm St, City E', 31, 5);

-- 3. RAILWAY_STAFF
INSERT INTO RAILWAY_STAFF (STAFF_ID, NAME, DESIGNATION, MOBILE_NO, ID) VALUES
(1, 'Engineer 1', 'Engineer', '1111111111', 3),
(2, 'Conductor 2', 'Conductor', '2222222222', 4),
(3, 'Staff 3', 'Technician', '3333333333', 5),
(4, 'Staff 4', 'Security', '4444444444', 1),
(5, 'Staff 5', 'Catering', '5555555555', 2);

-- 4. RAILWAY_STATION
INSERT INTO RAILWAY_STATION (STATION_ID, LOCATION, CUST_ID) VALUES
(1, 'Station A', 1),
(2, 'Station B', 2),
(3, 'Station C', 3),
(4, 'Station D', 4),
(5, 'Station E', 5);

-- 5. STATUS
INSERT INTO STATUS (WAITING_LIST, CONFIRMED_PENDING, PAID_UNPAID, STAFF_ID) VALUES
(1, 1, 1, 1),
(2, 0, 1, 2),
(3, 1, 0, 3),
(4, 1, 1, 4),
(5, 0, 0, 5);

-- 6. ROUTE
INSERT INTO ROUTE (ROUTE_ID, ARRIVAL, DEPARTURE, DISTANCE, STATION_ID) VALUES
(1, 'City A', 'City B', 50, 1),
(2, 'City B', 'City C', 60, 2),
(3, 'City C', 'City D', 70, 3),
(4, 'City D', 'City E', 80, 4),
(5, 'City E', 'City A', 90, 5);

-- 8. TRAIN
INSERT INTO TRAIN (TRAIN_ID, NAME, ROUTE_ID, CUST_ID) VALUES
(1, 'Express 1', 1, 1),
(2, 'Fast Train 2', 2, 2),
(3, 'Super Express 3', 3, 3),
(4, 'City Connector 4', 4, 4),
(5, 'Local 5', 5, 5);

-- 7. COACHES
INSERT INTO COACHES (COACH_NO, TYPE_CLASS, TRAIN_ID) VALUES
(1, 'Sleeper', 1),
(2, 'First Class', 2),
(3, 'Economy', 3),
(4, 'Business', 4),
(5, 'Sleeper', 5);

-- 12. TICKET
INSERT INTO TICKET (TICKET_ID, STATUS, FARE, NO_OF_TICKETS, CUST_ID, TRAIN_ID, COACH_ID) VALUES
(1, 'Confirmed', '20.00', 2, 1, 1, 1),
(2, 'Pending', '15.50', 1, 2, 2, 2),
(3, 'Confirmed', '22.75', 3, 3, 3, 3),
(4, 'Pending', '18.20', 1, 4, 4, 4),
(5, 'Confirmed', '25.00', 2, 5, 5, 5);

-- 9. TATKAL
INSERT INTO TATKAL (TATKAL_ID, CHARGE, BOOKING_DATE, TICKET_ID) VALUES
(1, 20, '2023-11-21', 1),
(2, 15, '2023-11-22', 2),
(3, 25, '2023-11-23', 3),
(4, 18, '2023-11-24', 4),
(5, 22, '2023-11-25', 5);

-- 10. COMPLAINT & REFUND
INSERT INTO COMPLAINT_REFUND (NUMBER, REFUND_STATUS, TRANSACTION_TYPE, AMOUNT, STAFF_ID, CUST_ID) VALUES
(1, 'Processed', 'Refund', '30.00', 1, 1),
(2, 'Pending', 'Complaint', '15.00', 2, 2),
(3, 'Processed', 'Refund', '25.50', 3, 3),
(4, 'Pending', 'Complaint', '18.75', 4, 4),
(5, 'Processed', 'Refund', '22.20', 5, 5);

-- 11. MAINTENANCE RECORD
INSERT INTO MAINTENANCE_RECORD (DATE, NO_OF_TIMES, TRAIN_ID, STAFF_ID) VALUES
('2023-11-21', 2, 1, 1),
('2023-11-22', 1, 2, 2),
('2023-11-23', 3, 3, 3),
('2023-11-24', 1, 4, 4),
('2023-11-25', 2, 5, 5);

-- 13. SCHEDULE
INSERT INTO SCHEDULE (EARLY_DELAY, STATION_ID, ROUTE_ID, TRAIN_ID) VALUES
(1, 1, 1, 1),
(0, 2, 2, 2),
(1, 3, 3, 3),
(0, 4, 4, 4),
(1, 5, 5, 5);
select * from ticket
